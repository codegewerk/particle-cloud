!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ParticleCloud=e():t.ParticleCloud=e()}(window,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);class n{constructor(t,e){this.defaultSettings=t,this.breakpointSettings=[];for(let t of e){const{breakpoint:e,options:i}=t;this.breakpointSettings.push(Object.assign({},{breakpoint:e,settings:Object.assign({},this.defaultSettings,i)}))}this.breakpointSettings.sort((t,e)=>t.breakpoint-e.breakpoint)}getOptionsForWidth(t){const e=this.breakpointSettings.find(e=>e.breakpoint>=t);return e?e.settings:this.defaultSettings}}class s{constructor(t,e,i){this.color=t.color instanceof Array?t.color[Math.floor(Math.random()*t.color.length)]:t.color,this.rgb=function(t){const e=o.exec(t);if(e)return{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)};throw new Error("particle-cloud: Invalid hex color value: "+t)}(this.color),this.x=Math.random()*i,this.y=Math.random()*e;const n=t.speed;this.vx=Math.random()*n*2-n,this.vy=Math.random()*n*2-n,this.radius=Math.random()*Math.random()*t.sizeVariations}draw(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill()}updateCoordinates(t,e){var i=this,n=i.x+this.vx,s=i.y+this.vy,o=i.radius;n+o>t?n=o:n-o<0&&(n=t-o),s+o>e?s=o:s-o<0&&(s=e-o),i.x=n,i.y=s}}const o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;class r{constructor(t,e,i,n){console.assert("number"==typeof i),console.assert("number"==typeof n),console.assert(null!==t.color),console.assert(null!==t.speed),this.settings=t,this.context=e,this.canvasWidth=i,this.canvasHeight=n,this.particles=[];for(let e=0;e<t.maxParticles;e++)this.particles.push(new s(t,n,i))}move(){for(const t of this.particles)t.updateCoordinates(this.canvasWidth,this.canvasHeight)}draw(){if(this.settings.showParticles)for(const t of this.particles)t.draw(this.context);this.settings.connectParticles&&(this.particles.sort(a),this.updateEdges())}updateEdges(){const t=this.settings.minDistance,e=this.particles.length;for(let i=0;i<e;i++){const n=this.particles[i];for(let s=i+1;s<e;s++){const e=this.particles[s],i=n.x-e.x;if(Math.abs(i)>t)break;const o=n.y-e.y,r=Math.sqrt(i*i+o*o);r<=t&&this.drawEdge(n,e,1.2-r/t)}}}drawEdge(t,e,i){const n=this.context.createLinearGradient(t.x,t.y,e.x,e.y);n.addColorStop(0,`rgba(${t.rgb.r},${t.rgb.g},${t.rgb.b},${i})`),n.addColorStop(1,`rgba(${e.rgb.r},${e.rgb.g},${e.rgb.b},${i})`),this.context.beginPath(),this.context.moveTo(t.x,t.y),this.context.lineTo(e.x,e.y),this.context.strokeStyle=n,this.context.stroke()}}function a(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}var c=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(i[n[s]]=t[n[s]])}return i};e.default=class{constructor(t){const e=function(t){return t=Object.assign({responsive:[],maxParticles:100,sizeVariations:3,showParticles:!0,speed:.5,color:"#000000",minDistance:120,connectParticles:!1},t)}(t),{selector:i,responsive:s}=e,o=c(e,["selector","responsive"]);if(!i)throw new Error("particle-cloud: No selector specified! Check https://github.com/codegewerk/particle-cloud#options");this.scheduler=function(){let t,e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;e?(e=e.bind(window),t=cancelAnimationFrame.bind(window)):(e=function(t){return window.setTimeout(t,1e3/60)},t=window.clearTimeout.bind(window));return{requestFrame:e,cancelFrame:t}}(),this.breakpointOptions=new n(o,s),this.onResize=()=>this.resize(),this.element=function(t){const e=document.querySelector(t);if(null===e)throw new Error("particle-cloud: can not find canvas element with given selector: "+t);return e}(i),this.element.style.width="100%",this.element.style.height="100%",this.context=this.element.getContext("2d"),this.ratio=function(t){const e=window.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/i}(this.context),this.scaleContext(),this.particleField=this.createParticleField(),this.subscribeToEvents()}createParticleField(){const[t,e]=this.getDimensions(),i=this.getResponsiveSettings();return new r(i,this.context,t,e)}start(){this._animation||this.animate()}stop(){this._animation&&(this.scheduler.cancelFrame(this._animation),this._animation=void 0)}animate(){this.step(),this._animation=this.scheduler.requestFrame(()=>this.animate())}step(){this.move(),this.draw()}move(){this.particleField.move()}draw(){this.context.clearRect(0,0,this.element.width,this.element.height),this.particleField.draw()}destroy(){this.unsubscribeFromEvents(),this.stop()}subscribeToEvents(){window.addEventListener("resize",this.onResize,!1)}unsubscribeFromEvents(){window.removeEventListener("resize",this.onResize,!1)}resize(){this.scaleContext(),clearTimeout(this._windowDelay),this._windowDelay=window.setTimeout(()=>{this.particleField=this.createParticleField()},50)}scaleContext(){const[t,e]=this.getDimensions();this.element.width=t*this.ratio,this.element.height=e*this.ratio,this.context.scale(this.ratio,this.ratio)}getDimensions(){const t=this.element;let e;e=t.offsetParent&&"BODY"===t.offsetParent.nodeName?window.innerHeight:t.offsetParent?t.offsetParent.clientHeight:t.clientHeight;return[t.offsetParent?t.offsetParent.clientWidth:t.clientWidth,e]}getResponsiveSettings(){const t=window.innerWidth;return this.breakpointOptions.getOptionsForWidth(t)}}}]).default}));