!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ParticleCloud=e():t.ParticleCloud=e()}(window,(function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);class s{constructor(t,e){this.defaultSettings=t,this.breakpointSettings=[];for(let t of e){const{breakpoint:e,options:i}=t;this.breakpointSettings.push(Object.assign({},{breakpoint:e,settings:Object.assign({},this.defaultSettings,i)}))}this.breakpointSettings.sort((t,e)=>t.breakpoint-e.breakpoint)}getOptionsForWidth(t){const e=this.breakpointSettings.find(e=>e.breakpoint>=t);return e?e.settings:this.defaultSettings}}class n{constructor(t,e,i){this.color=t.color instanceof Array?t.color[Math.floor(Math.random()*t.color.length)]:t.color,this.rgb=function(t){const e=o.exec(t);if(e)return{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)};throw new Error("particle-cloud: Invalid hex color value: "+t)}(this.color),this.x=Math.random()*i,this.y=Math.random()*e;const s=t.speed;this.vx=Math.random()*s*2-s,this.vy=Math.random()*s*2-s,this.radius=Math.random()*Math.random()*t.sizeVariations}draw(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill()}updateCoordinates(t,e){var i=this,s=i.x+this.vx,n=i.y+this.vy,o=i.radius;s+o>t?s=o:s-o<0&&(s=t-o),n+o>e?n=o:n-o<0&&(n=e-o),i.x=s,i.y=n}}const o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;class r{constructor(t,e,i,s){console.assert("number"==typeof i),console.assert("number"==typeof s),console.assert(null!==t.color),console.assert(null!==t.speed),this.settings=t,this.context=e,this.canvasWidth=i,this.canvasHeight=s,this.particles=[];for(let e=0;e<t.maxParticles;e++)this.particles.push(new n(t,s,i))}move(){for(const t of this.particles)t.updateCoordinates(this.canvasWidth,this.canvasHeight)}draw(){if(this.settings.showParticles)for(const t of this.particles)t.draw(this.context);this.settings.connectParticles&&(this.particles.sort(a),this.updateEdges())}updateEdges(){const t=this.settings.minDistance,e=this.particles.length;for(let i=0;i<e;i++){const s=this.particles[i];for(let n=i+1;n<e;n++){const e=this.particles[n],i=s.x-e.x;if(Math.abs(i)>t)break;const o=s.y-e.y,r=Math.sqrt(i*i+o*o);r<=t&&this.drawEdge(s,e,1.2-r/t)}}}drawEdge(t,e,i){const s=this.context.createLinearGradient(t.x,t.y,e.x,e.y);s.addColorStop(0,`rgba(${t.rgb.r},${t.rgb.g},${t.rgb.b},${i})`),s.addColorStop(1,`rgba(${e.rgb.r},${e.rgb.g},${e.rgb.b},${i})`),this.context.beginPath(),this.context.moveTo(t.x,t.y),this.context.lineTo(e.x,e.y),this.context.strokeStyle=s,this.context.stroke()}}function a(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}e.default=class{constructor(t){t=Object.assign({responsive:[],maxParticles:100,sizeVariations:3,showParticles:!0,speed:.5,color:"#000000",minDistance:120,connectParticles:!1},t);const{selector:e,responsive:i,...n}=t;if(!e)throw new Error("particle-cloud: No selector specified! Check https://github.com/codegewerk/particle-cloud#options");this.scheduler=function(){let t,e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;e?(e=e.bind(window),t=cancelAnimationFrame.bind(window)):(e=function(t){return window.setTimeout(t,1e3/60)},t=window.clearTimeout.bind(window));return{requestFrame:e,cancelFrame:t}}(),this.breakpointOptions=new s(n,i),this.onResize=()=>this.resize(),this.initializeCanvas(e),this.scaleContext(),this.initializeParticleField(),this.subscribeToEvents()}initializeCanvas(t){this.element=document.querySelector(t),this.element.style.width="100%",this.element.style.height="100%",this.context=this.element.getContext("2d"),this.ratio=function(t){const e=window.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/i}(this.context)}initializeParticleField(){const[t,e]=this.getDimensions(),i=this.getResponsiveSettings();this.particleField=new r(i,this.context,t,e)}start(){this._animation||this.animate()}stop(){this._animation&&(this.scheduler.cancelFrame(this._animation),this._animation=null)}animate(){this.step(),this._animation=this.scheduler.requestFrame(()=>this.animate())}step(){this.move(),this.draw()}move(){this.particleField.move()}draw(){this.context.clearRect(0,0,this.element.width,this.element.height),this.particleField.draw()}destroy(){this.unsubscribeFromEvents(),this.stop()}subscribeToEvents(){window.addEventListener("resize",this.onResize,!1)}unsubscribeFromEvents(){window.removeEventListener("resize",this.onResize,!1)}resize(){this.scaleContext(),clearTimeout(this.windowDelay),this.windowDelay=window.setTimeout(()=>this.initializeParticleField(),50)}scaleContext(){const[t,e]=this.getDimensions();this.element.width=t*this.ratio,this.element.height=e*this.ratio,this.context.scale(this.ratio,this.ratio)}getDimensions(){const t=this.element;let e;e=t.offsetParent&&"BODY"===t.offsetParent.nodeName?window.innerHeight:t.offsetParent?t.offsetParent.clientHeight:t.clientHeight;return[t.offsetParent?t.offsetParent.clientWidth:t.clientWidth,e]}getResponsiveSettings(){const t=window.innerWidth;return this.breakpointOptions.getOptionsForWidth(t)}}}]).default}));